# 🎵 DSP 音效增强 - 快速说明

## ✅ 已完成

### 1. 智能降噪功能
- **位置**: 主界面，BGM 音量下方
- **功能**: 实时消除背景噪音
- **使用**: 录音前开启 → 录音时生效 → 试听时听到效果
- **注意**: ⚠️ 降噪只在**录音时**处理，试听时调整无效

### 2. UI 优化
- ✅ 降噪开关从音效弹窗移到主界面
- ✅ 成为常驻控件，方便快速访问
- ❌ 移除了音高滑块（功能暂时禁用）

### 3. 崩溃修复
- ✅ 修复试听时的 `EXC_BAD_ACCESS` 崩溃
- ✅ 禁用音高修正功能（避免栈溢出）

## 🎯 关键理解

### 降噪工作原理

```
录音时：
麦克风 → 【降噪】→ 【音效】→ 保存数据
           ↑ DSP 实时处理

试听时：
已保存数据 → 混音 BGM → 播放
            ↑ 不重新处理
```

**为什么试听时调整降噪没效果？**
- 试听播放的是**录音时已处理的数据**
- 数据已经固化，无法重新降噪
- 需要调整，请删除段落后重新录音

## 📱 使用步骤

### 正确流程：
```
1. 开启"智能降噪"开关（录音前）
2. 选择音效
3. 开始录音 → 降噪实时生效
4. 停止录音
5. 试听 → 听到降噪后的效果 ✅
```

### 错误流程：
```
1. 开始录音（降噪关闭）
2. 录音中途开启降噪 → ❌ 之前的数据没降噪
3. 试听时开启降噪 → ❌ 完全无效
```

## ⚠️ 已知限制

1. **降噪效果有限** - 当前是简化版，后续会升级
2. **音高修正禁用** - 避免崩溃，使用 EQ 替代
3. **试听不重新处理** - 性能考虑，播放已处理数据

## 📚 详细文档

- `DSP_STATUS.md` - 技术状态说明
- `DSP_USAGE_GUIDE.md` - 详细使用指南

---

**降噪功能可用，请在录音前开启！** 🎤✨
